<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate Premium Logo AI</title>
<style>
:root{
  --bg1:#0f0b1a;
  --grad-a:#6f3ff5;
  --grad-b:#ffb86b;
  --accent:#ffd56b;
  --glass:rgba(255,255,255,0.06);
  --muted:rgba(255,255,255,0.75);
}

*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family: 'Inter', sans-serif;
  background: radial-gradient(1200px 600px at 10% 10%, rgba(111,63,245,0.12), transparent 8%),
              radial-gradient(900px 400px at 90% 80%, rgba(255,184,107,0.08), transparent 10%),
              var(--bg1);
  color:#fff;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
  -webkit-font-smoothing: antialiased;
}

/* ===== Hero ===== */
.hero{
  width:100%;
  text-align:center;
  padding:80px 20px 40px 20px;
  position:relative;
}
.hero::before{
  content:"";
  position:absolute; inset:0;
  background: radial-gradient(circle, rgba(255,255,255,0.05), transparent 60%);
  z-index:0;
  animation: pulse 10s infinite;
}
@keyframes pulse{
  0%,100%{transform: scale(1);}
  50%{transform: scale(1.05);}
}
.hero h1{
  font-size:3rem;
  margin-bottom:20px;
  z-index:1;
  position:relative;
  background: linear-gradient(90deg,var(--grad-a),var(--grad-b));
  -webkit-background-clip: text; color: transparent;
  text-shadow: 0 6px 20px rgba(111,63,245,0.3);
}
.hero p{
  font-size:1.2rem;
  margin-bottom:30px;
  z-index:1;
  position:relative;
}
.hero button{
  padding:15px 35px;
  font-size:1.2rem;
  border:none;
  border-radius:50px;
  background: linear-gradient(90deg,var(--grad-a),var(--grad-b));
  color:#111;
  cursor:pointer;
  font-weight:bold;
  box-shadow: 0 6px 25px rgba(111,63,245,0.2);
  transition: transform 0.3s, box-shadow 0.3s;
}
.hero button:hover{
  transform: translateY(-3px);
  box-shadow: 0 12px 45px rgba(111,63,245,0.3);
}

/* ===== Glass Form ===== */
.glass-form{
  background: rgba(255,255,255,0.06);
  backdrop-filter: blur(12px);
  border-radius:25px;
  padding:40px 30px;
  max-width:500px;
  margin:40px auto;
  box-shadow: 0 20px 60px rgba(111,63,245,0.2);
  display:flex;
  flex-direction:column;
  gap:18px;
  transition: transform 0.3s, box-shadow 0.3s;
}
.glass-form:hover{
  transform: translateY(-4px);
  box-shadow: 0 30px 90px rgba(111,63,245,0.25);
}
.glass-form h2{
  font-size:1.8rem;
  text-align:center;
  background: linear-gradient(90deg,#6f3ff5,#ffb86b);
  -webkit-background-clip: text;
  color: transparent;
  margin-bottom:20px;
}
.glass-form input{
  padding:14px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.1);
  background: rgba(255,255,255,0.02);
  color:#fff;
  font-size:1rem;
  transition: all 0.3s;
}
.glass-form input:focus{
  border-color: #6f3ff5;
  box-shadow: 0 0 12px #6f3ff5;
  outline:none;
}
.glass-form button{
  padding:16px;
  border-radius:50px;
  border:none;
  background: linear-gradient(90deg,#6f3ff5,#ffb86b);
  color:#111;
  font-size:1.2rem;
  font-weight:700;
  cursor:pointer;
  box-shadow: 0 8px 25px rgba(111,63,245,0.25);
  transition: transform 0.3s, box-shadow 0.3s;
}
.glass-form button:hover{
  transform: scale(1.05);
  box-shadow: 0 16px 50px rgba(111,63,245,0.35);
}

/* ===== Ergebnisse ===== */
#results{
  display:grid;
  grid-template-columns: repeat(auto-fill,minmax(200px,1fr));
  gap:15px;
  margin:40px 0;
}
.card{
  border-radius:15px;
  background: rgba(255,255,255,0.02);
  padding:8px;
  min-height:180px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  transform: translateY(6px);
  opacity:0;
  transition: all 0.45s cubic-bezier(.2,.9,.2,1);
}
.card.visible{
  opacity:1;
  transform: translateY(0);
}
.card img{
  max-width:100%;
  border-radius:12px;
  transition: transform 0.3s, box-shadow 0.3s;
}
.card img:hover{
  transform: translateY(-4px) scale(1.05);
  box-shadow:0 8px 30px rgba(111,63,245,0.3);
}

/* ===== Loader ===== */
.overlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(0,0,0,0.6);
  z-index:9999;
  visibility:hidden;
  opacity:0;
  transition:all 0.2s;
}
.overlay.show{
  visibility:visible;
  opacity:1;
}
.loader{
  width:120px;
  height:120px;
  border-radius:20px;
  background:linear-gradient(90deg,var(--grad-a),var(--grad-b));
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  box-shadow:0 18px 60px rgba(111,63,245,0.22);
}
.spinner{
  width:44px; height:44px;
  border-radius:50%;
  border:4px solid rgba(255,255,255,0.25);
  border-top-color:#fff;
  animation: spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg);}}

/* ===== Download All Button ===== */
#downloadAllBtn{
  display:none;
  margin:20px auto;
  padding:12px 20px;
  border-radius:50px;
  border:none;
  background:linear-gradient(90deg,#6f3ff5,#ffb86b);
  color:#111;
  font-weight:600;
  cursor:pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}
#downloadAllBtn:hover{
  transform: scale(1.05);
  box-shadow:0 6px 20px rgba(111,63,245,0.4);
}

/* ===== Footer ===== */
footer{
  text-align:center;
  margin-bottom:18px;
  font-size:0.9rem;
  color:rgba(255,255,255,0.7);
}

/* ===== Responsive ===== */
@media (max-width:920px){
  .hero h1{font-size:2.3rem;}
  .glass-form{width:90%;}
}
</style>

<!-- JSZip & FileSaver für ZIP Download -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

</head>
<body>

<div class="hero">
  <h1>Ultimate Premium Logo AI</h1>
  <p>Erstelle professionelle Logos in Sekunden – modern, elegant und einzigartig!</p>
  <button onclick="document.getElementById('logoForm').scrollIntoView({behavior:'smooth'})">Jetzt starten</button>
</div>

<form id="logoForm" class="glass-form">
  <h2>Erstelle dein Logo</h2>
  <input name="brand" placeholder="Firmenname" required>
  <input name="industry" placeholder="Branche (z.B. Mode, Fitness)" required>
  <input name="style" placeholder="Stil (z.B. modern, minimalistisch)" required>
  <input name="colors" placeholder="Farben (z.B. blau, gold)" required>
  <input name="shape" placeholder="Icon/Shape (z.B. Stern, Buchstabe)" required>
  <button type="submit">Logo generieren</button>
</form>

<button id="downloadAllBtn">Alle Logos herunterladen</button>

<div id="results"></div>

<div id="overlay" class="overlay">
  <div class="loader">
    <div class="spinner"></div>
    <div style="color:#111;font-weight:700;padding:6px 10px;background:#fff;border-radius:8px;">Generiere…</div>
  </div>
</div>

<footer>© 2025 Logo AI Generator | Erstellt von dir</footer>

<script>
const overlay = document.getElementById('overlay');
const downloadAllBtn = document.getElementById("downloadAllBtn");

function updateDownloadAllButton() {
  const cards = document.querySelectorAll("#results .card img");
  downloadAllBtn.style.display = cards.length ? "block" : "none";
}

downloadAllBtn.addEventListener("click", async () => {
  const zip = new JSZip();
  const cards = document.querySelectorAll("#results .card img");
  if(cards.length === 0) return alert("Keine Logos zum Download vorhanden!");
  
  cards.forEach((img, i) => {
    const base64Data = img.src.replace(/^data:image\/png;base64,/, "");
    zip.file(`Logo-${i+1}.png`, base64Data, {base64:true});
  });

  const content = await zip.generateAsync({type:"blob"});
  saveAs(content, "Logos.zip");
});

document.getElementById("logoForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const formData = new FormData(e.target);
  const body = Object.fromEntries(formData.entries());
  overlay.classList.add('show');

  try {
    const res = await fetch("/generate", {
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body: JSON.stringify(body)
    });
    const data = await res.json();
    const container = document.getElementById('results');
    container.innerHTML = '';

    if(data.data){
      data.data.forEach((img, i) => {
        const card = document.createElement('div');
        card.className = 'card';

        const image = new Image();
        image.src = 'data:image/png;base64,' + img.b64_json;
        image.alt = "Generiertes Logo";
        card.appendChild(image);

        const downloadBtn = document.createElement('button');
        downloadBtn.innerText = "Download PNG";
        downloadBtn.style.marginTop = "8px";
        downloadBtn.style.padding = "6px 12px";
        downloadBtn.style.borderRadius = "12px";
        downloadBtn.style.border = "none";
        downloadBtn.style.cursor = "pointer";
        downloadBtn.style.background = "linear-gradient(90deg, #6f3ff5, #ffb86b)";
        downloadBtn.style.color = "#111";
        downloadBtn.style.fontWeight = "600";
        downloadBtn.style.transition = "transform 0.2s, box-shadow 0.2s";
        downloadBtn.onmouseover = () => {
          downloadBtn.style.transform = "scale(1.05)";
          downloadBtn.style.boxShadow = "0 6px 20px rgba(111,63,245,0.4)";
        };
        downloadBtn.onmouseout = () => {
          downloadBtn.style.transform = "scale(1)";
          downloadBtn.style.boxShadow = "none";
        };
        downloadBtn.onclick = () => {
          const a = document.createElement('a');
          a.href = image.src;
          a.download = `Logo-${i+1}.png`;
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
        };

        card.appendChild(downloadBtn);
        container.appendChild(card);
        setTimeout(()=>card.classList.add('visible'), i*150);
      });
    }

    updateDownloadAllButton();

  } catch(err){
    alert("Fehler: "+err.message);
  } finally{
    setTimeout(()=>overlay.classList.remove('show'),600);
  }
});
</script>
</body>
</html>
