<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Logo AI — Premium Generator</title>

<style>
  :root{
    --bg1: #0f0b1a; /* deep midnight */
    --grad-a: #6f3ff5; /* purple */
    --grad-b: #ffb86b; /* warm gold */
    --accent: #ffd56b;
    --glass: rgba(255,255,255,0.06);
    --muted: rgba(255,255,255,0.75);
    --card-bg: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(111,63,245,0.12), transparent 8%),
                radial-gradient(900px 400px at 90% 80%, rgba(255,184,107,0.08), transparent 10%),
                var(--bg1);
    color: #fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    display:flex;
    flex-direction:column;
    align-items:center;
    min-height:100vh;
  }

  /* container */
  .wrap{
    width:100%;
    max-width:1100px;
    padding:28px;
  }

  /* header */
  header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:16px;
    margin-bottom:18px;
  }
  .brand{
    display:flex;
    gap:12px;
    align-items:center;
  }
  .logo-mark{
    width:48px;height:48px;border-radius:12px;
    background:linear-gradient(135deg,var(--grad-a),var(--grad-b));
    box-shadow: 0 6px 30px rgba(111,63,245,0.16), inset 0 -6px 18px rgba(0,0,0,0.2);
    display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;color:#111;
  }
  .brand h1{font-size:1.05rem;margin:0;letter-spacing:0.2px}
  .brand p{margin:0;font-size:0.75rem;color:var(--muted)}

  .cta {
    background:transparent;border:1px solid rgba(255,255,255,0.06);
    padding:8px 14px;border-radius:999px;color:var(--muted);font-weight:600;
    backdrop-filter: blur(6px);
  }

  /* HERO */
  .hero{
    display:grid;
    grid-template-columns: 1fr 420px;
    gap:28px;
    align-items:center;
    margin: 10px 0 18px;
  }

  .hero-left{
    padding:28px 20px;
    border-radius:18px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow: 0 10px 40px rgba(2,6,23,0.6);
  }
  .kicker{
    display:inline-block;padding:6px 10px;border-radius:999px;
    background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    color:var(--accent); font-weight:700; font-size:0.85rem; letter-spacing:0.6px;
  }
  .hero-title{
    margin:18px 0 6px;
    font-size:2.15rem; line-height:1.02;
    background: linear-gradient(90deg, #fff, #f6f0e8 60%);
    -webkit-background-clip:text;background-clip:text;color:transparent;
    text-shadow: 0 6px 30px rgba(111,63,245,0.08);
  }
  .hero-sub{
    margin:0 0 18px;color:rgba(255,255,255,0.9); font-size:1rem;
  }
  .hero-cta{
    display:flex;gap:12px;align-items:center;
  }
  .primary-btn{
    background:linear-gradient(90deg,var(--grad-a),var(--grad-b));
    color:#111;padding:12px 18px;border-radius:12px;border:none;font-weight:700;cursor:pointer;
    box-shadow: 0 8px 30px rgba(111,63,245,0.18);
    transition: transform .18s ease, box-shadow .18s;
  }
  .primary-btn:hover{ transform: translateY(-3px); box-shadow: 0 18px 50px rgba(111,63,245,0.22); }

  .secondary-btn{
    background:transparent;border:1px solid rgba(255,255,255,0.06);padding:12px 14px;border-radius:12px;color:var(--muted);cursor:pointer;
  }

  /* form panel */
  .panel{
    border-radius:18px;padding:18px;background:var(--card-bg);
    box-shadow: 0 8px 30px rgba(0,0,0,0.45);
  }

  form { display:flex; flex-direction:column; gap:12px; }
  .row{ display:flex; gap:10px; }
  .row .col{ flex:1; min-width:0; }

  input[type="text"]{
    width:100%; padding:12px 14px; border-radius:10px; border:1px solid rgba(255,255,255,0.06);
    background: rgba(255,255,255,0.02); color:#fff; font-size:1rem;
  }
  input::placeholder{ color:rgba(255,255,255,0.6); }

  .hint{ font-size:0.85rem; color:rgba(255,255,255,0.7); margin-top:6px; }

  /* results area */
  .results-wrap{ margin-top:22px; }
  #results{
    display:grid;
    grid-template-columns: repeat(auto-fill, minmax(200px,1fr));
    gap:14px;
    margin-top:12px;
  }
  .card{
    border-radius:12px; overflow:hidden; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding:8px; display:flex; align-items:center; justify-content:center; min-height:160px;
    transform: translateY(6px); opacity:0; transition: all .45s cubic-bezier(.2,.9,.2,1);
  }
  .card.visible{ opacity:1; transform:none; }
  .card img{ max-width:100%; height:auto; display:block; border-radius:10px; }

  /* small footer */
  .meta{
    margin-top:26px;color:rgba(255,255,255,0.7); font-size:0.88rem; text-align:center;
  }

  /* loader overlay */
  .overlay{
    position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
    background: linear-gradient(180deg, rgba(2,2,4,0.35), rgba(2,2,4,0.5));
    z-index:9999; visibility:hidden; opacity:0; transition: all .2s;
  }
  .overlay.show{ visibility:visible; opacity:1; }

  .loader{
    width:120px;height:120px;border-radius:20px;background:linear-gradient(90deg,var(--grad-a),var(--grad-b));
    display:flex;align-items:center;justify-content:center;box-shadow:0 18px 60px rgba(111,63,245,0.22);
    flex-direction:column; gap:8px;
  }
  .spinner{
    width:44px;height:44px;border-radius:50%; border:4px solid rgba(255,255,255,0.25);
    border-top-color: #fff; animation: spin 1s linear infinite;
  }
  @keyframes spin{ to{ transform: rotate(360deg); } }

  /* responsiveness */
  @media (max-width:920px){
    .hero{ grid-template-columns: 1fr; padding-bottom:0 }
    .hero-left{ margin-bottom:18px }
  }
</style>
</head>
<body>

<div class="wrap">
  <header>
    <div class="brand">
      <div class="logo-mark">LA</div>
      <div>
        <h1>Logo AI</h1>
        <p>Premium Logo Generator</p>
      </div>
    </div>
    <div>
      <button class="cta" onclick="scrollToForm()">Jetzt testen</button>
    </div>
  </header>

  <section class="hero">
    <div class="hero-left panel">
      <div class="kicker">Schnell • Einzigartig • Premium</div>
      <h2 class="hero-title">Erstelle in Sekunden dein Marken-Logo — premium ready</h2>
      <p class="hero-sub">Wähle Stil, Farben und Icon. Unsere AI liefert klare, skalierbare Logos, ideal für Web, Print und Social.</p>

      <div class="hero-cta">
        <button class="primary-btn" onclick="scrollToForm()">Jetzt starten</button>
        <button class="secondary-btn" onclick="showInfo()">Wie das funktioniert</button>
      </div>

      <div class="results-wrap">
        <div class="hint">Beispiel: „Nordica Bikes“ • Branche: Fahrradverleih • Stil: minimalistisch • Farben: dunkelblau, hellgrün</div>
      </div>
    </div>

    <aside class="panel">
      <form id="logoForm">
        <div class="row">
          <div class="col"><input name="brand" placeholder="Firmenname (z. B. Nordica Bikes)" required /></div>
        </div>
        <div class="row">
          <div class="col"><input name="industry" placeholder="Branche (z. B. Mode, Fitness)" required /></div>
          <div class="col"><input name="style" placeholder="Stil (z. B. modern, retro)" required /></div>
        </div>
        <div class="row">
          <div class="col"><input name="colors" placeholder="Farben (z. B. blau, gold)" required /></div>
          <div class="col"><input name="shape" placeholder="Icon/Shape (z. B. Stern, Monogramm)" required /></div>
        </div>

        <div style="display:flex;gap:10px;margin-top:6px">
          <button type="submit" class="primary-btn" style="flex:1">Logo generieren</button>
          <button type="button" class="secondary-btn" onclick="fillExample()">Beispiel</button>
        </div>

        <div class="hint">Du brauchst einen OpenAI API-Key im Replit-Secret `OPENAI_API_KEY`.</div>
      </form>
    </aside>
  </section>

  <section class="panel" style="margin-top:12px">
    <h3 style="margin:6px 0 0">Generierte Logos</h3>
    <div id="results" aria-live="polite"></div>
    <div class="meta">Tipp: Für sauberes Logo → hinterher als PNG mit transparenten Hintergrund speichern & in Vektor nachzeichnen.</div>
  </section>

</div>

<!-- loader / overlay -->
<div id="overlay" class="overlay">
  <div class="loader">
    <div class="spinner"></div>
    <div style="font-weight:700;color:#111;padding:6px 10px;border-radius:8px;background:rgba(255,255,255,0.88)">Generiere…</div>
  </div>
</div>

<script>
  // small helpers
  function scrollToForm(){
    const el = document.getElementById('logoForm');
    if(!el) return;
    el.scrollIntoView({behavior:'smooth', block:'center'});
    el.querySelector('[name=brand]').focus();
  }

  function showInfo(){
    alert('So funktioniert es:\\n1) Formular ausfüllen\\n2) KI generiert 4 Varianten\\n3) PNG herunterladen und ggf. vektorisieren');
  }

  function fillExample(){
    const f = document.getElementById('logoForm');
    f.brand.value = 'Nordica Bikes';
    f.industry.value = 'Fahrradverleih';
    f.style.value = 'minimalistisch';
    f.colors.value = 'dunkelblau, hellgrün';
    f.shape.value = 'Fahrradrahmen abstrakt';
  }

  // overlay control
  const overlay = document.getElementById('overlay');
  function showOverlay(){ overlay.classList.add('show'); }
  function hideOverlay(){ overlay.classList.remove('show'); }

  // handle submit -> call backend /generate
  document.getElementById('logoForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const body = Object.fromEntries(formData.entries());

    // show loader
    showOverlay();

    try {
      const res = await fetch('/generate', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify(body)
      });

      if(!res.ok){
        const txt = await res.text().catch(()=>null);
        throw new Error('Server-Fehler ' + res.status + (txt?': '+txt:''));
      }
      const data = await res.json();

      // clear existing
      const container = document.getElementById('results');
      container.innerHTML = '';

      // check returned structure
      if(!data || !data.data || !Array.isArray(data.data) || data.data.length===0){
        throw new Error('Keine Bilder erhalten. Prüfe den API-Key / Server.');
      }

      // create cards, staggered reveal
      data.data.forEach((d, i) => {
        const card = document.createElement('div');
        card.className = 'card';
        const img = new Image();
        img.src = 'data:image/png;base64,' + d.b64_json;
        img.alt = 'Logo Vorschau ' + (i+1);
        card.appendChild(img);
        container.appendChild(card);
        // stagger reveal
        setTimeout(()=> card.classList.add('visible'), 120 * i + 80);
      });

    } catch (err){
      console.error(err);
      alert('Fehler beim Generieren: ' + (err.message || err));
    } finally {
      // hide loader after small delay so users see the effect
      setTimeout(hideOverlay, 600);
    }
  });
</script>

</body>
</html>
